<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Shortcut icon" href="images/site.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Maverick CRM</title>
    <link rel="stylesheet" type="text/css" href="maverickcrm.css?7">
    <script src="common.js?10"></script>
    <script src="dataPopulation.js?16"></script>
    <script src="maverickcrm.js?17"></script>
    <script src="tabHandler.js?15"></script>
    <script src="modelHandler.js?8"></script>

</head>
<body onload="init()">
	<input type="hidden" value="" id="user" data-contact="">
    <table id="menu">
        <tr>
            <td width="10%">
                <select class="cssMenu" id="cmbSearchCustomer" title="Customer list" onchange="setSearchPredicate(this)"></select>                
			</td>
            <td width="10%">
                <select class="cssMenu" title="Project list" id="cmbSearchProject" onchange="setSearchPredicate(this)"></select>
			</td>
            <td width="10%">
                <select class="cssMenu" title="Task Type" id="cmbSearchTaskType" onchange="setSearchPredicate(this)"></select>                
            </td>
            <td width="10%">
                <input type="text" class="cssMenu" size="15" title="Title" placeholder="task title" id="txtSearchTitle" onchange="setSearchPredicate(this)">            
            </td> 
            <td width="7%">
            	<span id="lblSearchDueDate" title="Set due date"onclick="toggleSearchDate(this, getById('txtSearchDueDate'))">Due date</span>
                <input class="cssMenu" type="date" title="Task Due Date" id="txtSearchDueDate" data-isActive="0" onkeyup="flagToggle(getById('lblSearchDueDate'),this, event)" onchange="toggleSearchDate(getById('lblSearchDueDate'),this)"/>
            </td>            
            <td width="5%" valign="bottom">
            	<img src="images/task_open.png" id="searchTaskStatus" value="1" onclick="toggleSearchTaskStatus()">
            </td>
          
            <td width="5%" valign="bottom">
            	<img src="images/task_search.png" id="searchTask" onmousedown="toggleAsBotton(this)" onmouseup="prepareSearchTask();toggleAsBotton(this)">
            	<img src="images/refresh_search.png" title="Reset search to all open tasks" id="addProject" onmousedown="toggleAsBotton(this)" onmouseup="resetTaskSearch();toggleAsBotton(this)">
            </td>
            <td width="50%" align="right" valign="bottom">
            	<select id="cmbDebug" onchange="setDebugModule()">
            		<option value=0>None</option>
            		<option value=1>customer</option>
            		<option value=2>contact</option>
            		<option value=3>task</option>
            		<option value=4>taskLog</option>
            		<option value=5>relation</option>
            		<option value=6>attachment</option>
            		<option value=7>menu</option>
            		<option value=8>common</option>
				</select>
            </td>                      
        </tr>
    </table>

	<table style="width: 100%;">
		<tr>
			<td class="cssMessageInfo" id="messageInfo">Ready</td>
		</tr>
	</table>
    
   	<table class="Fixed">
		<tr>
			<td style="width: 5%;">Type</td>
			<td style="width: 70%; text-align: center;">Title</td>
			<td style="width: 12%;">Due date</td>
			<td style="width: 6%;">Effort</td>
			<td style="width: 10%;">Status</td>
		</tr>
	</table>  
	<br>  
    <table id="taskList" class="cssTaskList">
		<tbody>             
        </tbody>     
    </table>
    <hr>

    <table style="width: 100%;">
        <tbody>
		<tr>
			<td width="50%" valign="top">
				<div id="taskDetailsTop">
					<img src="images/task.png" id="imgTaskType" title="select Task type" data-state="0" onmousedown="toggleAsBotton(this)" onmouseup="toggleImgMenu(this, 'divTaskType'); toggleAsBotton(this)">
					<select title="Task Type" id="cmbDetailTaskType" style="display:none;"></select>
					<select title="Task Status" id="cmbDetailStatus" style="display:none;"></select>
					<img src="images/status/new.png" id="imgTaskStatus" title="select Task status" data-state="0" onclick="toggleState(this); toggleImgMenu(this, 'divTaskStatus')"	>
	            	<div id="divTaskStatus">
	            		<img src="images/status/new.png" title="New" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskStatus(this, 1)"><br>
	            		<img src="images/status/running.png" title="Running" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskStatus(this,2)"><br>
	            		<img src="images/status/delivered.png" title="Delivered" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskStatus(this, 3)"><br>
	            		<img src="images/status/closed.png" title="Closed" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskStatus(this, 4)"><br>
	            		<img src="images/status/onhold.png" title="On Hold" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskStatus(this, 5)"><br>
	            	</div>	
	            	<select title="Contact for this task(Usually you!)" id="cmbDetailContact"></select>	
	           		<img align="right" src="images/save_blue.png" title="Save task" id="imgSaveTask" onmousedown="toggleAsBotton(this)" onmouseup="saveTask(); toggleAsBotton(this)">			
				</div>
			
            	<div id="divTaskType">
            		<img src="images/tasklist/project.png" title="new project task" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskType(this, 1)"><br>
            		<img src="images/tasklist/requirements.png" title="new requirement task" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskType(this,2)"><br>
            		<img src="images/tasklist/design.png" title="new design task" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskType(this, 3)"><br>
            		<img src="images/tasklist/develop.png" title="new development task" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskType(this, 4)"><br>
            		<img src="images/tasklist/qa.png" title="new qa task" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskType(this, 5)"><br>
            		<img src="images/tasklist/delivery.png" title="new delivery task" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskType(this, 6)"><br>
            		<img src="images/tasklist/support.png" title="new support task" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this); setTaskType(this, 7)">
            	</div>				
				<textarea title="Task title" id="txtDetailTaskTitle" rows="2" cols="60" tabindex="1"></textarea>
				<br>
				<label for="txtDetailEffort" class="cssFieldLabel" tabindex="2">Effort</label>
				<input title="Task effort (in hours/days/months)" type="number" id="txtDetailTaskEffort" min="1" value="1">
				<span onclick="showEffortUnits()"><img title="hours" id="imgEffortUnit" style="margin: 0em" src="images/18x18_red/effortUnit_hours.png"></span>
				<div id="divEffortUnit">
					<img title="Effort is in hours" src="images/18x18_red/effortUnit_hours.png" onclick="setEffortUnit(this, 1)">
					<img title="Effort is in days" src="images/18x18_red/effortUnit_days.png" onclick="setEffortUnit(this, 2)">
					<img title="Effort is in months" src="images/18x18_red/effortUnit_months.png" onclick="setEffortUnit(this, 3)">
				</div>
				<input type="hidden" id="effortUnit" value="1">
            	<span id="lblDetailDueDate" title="Set due date" class="cssFieldLabel" onclick="toggleSearchDate(this, getById('txtDetailDueDate'))">Due Date</span>				
				<input type="date" id="txtDetailDueDate" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}"  data-isActive="0" onkeyup="flagToggle(getById('lblDetailDueDate'),this, event)" onchange="toggleSearchDate(getById('lblDetailDueDate'),this)"/> 
				<input type="hidden" id="taskId" value="0">    
				
            	<img src="images/add_task.png" title="Add a single task" id="addTask" data-state="0" onmousedown="toggleAsBotton(this)" onmouseup="toggleNewTaskTypeMenu(this); toggleAsBotton(this)">
            	<div id="divNewTaskType">
            		<img src="images/tasklist/project.png" title="new project task" onclick="setNewTaskType(this, 1); toggleNewTaskTypeMenu(getById('addTask'))">
            		<img src="images/tasklist/requirements.png" title="new requirement task" onclick="setNewTaskType(this, 2); toggleNewTaskTypeMenu(getById('addTask'))">
            		<img src="images/tasklist/design.png" title="new design task" onclick="setNewTaskType(this, 3); toggleNewTaskTypeMenu(getById('addTask'))">
            		<img src="images/tasklist/develop.png" title="new development task" onclick="setNewTaskType(this, 4); toggleNewTaskTypeMenu(getById('addTask'))">
            		<img src="images/tasklist/qa.png" title="new qa task" onclick="setNewTaskType(this, 5); toggleNewTaskTypeMenu(getById('addTask'))">
            		<img src="images/tasklist/delivery.png" title="new delivery task" onclick="setNewTaskType(this, 6); toggleNewTaskTypeMenu(getById('addTask'))">
            		<img src="images/tasklist/support.png" title="new support task" onclick="setNewTaskType(this, 7); toggleNewTaskTypeMenu(getById('addTask'))">
            	</div>
				<img src="images/add_child.png" title="Add a child to this task" id="addChildTask" data-parentTask="0" data-state="0" onclick="toggleAsBotton(this); setChildTask(this)">            	
            	<img src="images/add_project.png" title="Add full project" id="addProject" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this)">				
				<br>
				<hr>
				<span class="cssTabSelected" id="TabLog" onclick="setTab(tabEnum.taskLog)">Log</span>
				<span class="cssTab" id="TabRelation" onclick="setTab(tabEnum.relation)">Relation</span>
				<span class="cssTab" id="TabAttachment" onclick="setTab(tabEnum.attachment)">Attachments</span>
				<span class="cssTab" id="TabLinkedCustomer" onclick="setTab(tabEnum.linkedCustomer)">Linked Customers</span>
				<br>
				<div id="divTaskTab"></div>				                    
			</td>
			<td valign="top" rowspan="2">
				<div class="tabCRM">
					<span id="tabConnection" class="cssTab" onclick="setTab(tabEnum.connection)">Connections</span>
					<span id="tabTimeline" class="cssTab" onclick="setTab(tabEnum.timeline)">Timeline</span>
					<span id="tabCustomer" class="cssTab" onclick="setTab(tabEnum.customer)">Customers</span>
					<span id="tabLogin" class="cssTab" onclick="setTab(tabEnum.login)">Logins</span>
					<hr>			
					<div id="divCRM"></div>
				</div>
			</td>
		</tr>           
        </tbody>
    </table>
</body>
</html>