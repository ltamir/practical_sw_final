<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="Shortcut icon" href="images/site.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Maverick CRM</title>
    <link rel="stylesheet" type="text/css" href="maverickcrm.css?5">
    <script src="common.js?10"></script>
    <script src="dataPopulation.js?9"></script>
    <script src="maverickcrm.js?13"></script>
    <script src="tabHandling.js?11"></script>
    <script src="modelHandler.js?3"></script>

</head>
<body onload="init()">
    <table id="menu">
        <tr>
            <td width="15%">
                <select class="cssMenu" id="cmbSearchCustomer" title="Customer list" onchange="setSearchPredicate(this)"></select>                
            </td>
            <td width="15%">
                <input class="cssMenu" type="date" title="Task Due Date" id="txtSearchDueDate" onchange="setSearchPredicate(this)"/>
            </td>            
            <td width="12%">
                <select class="cssMenu" title="Project list" id="cmbSearchProject" onchange="setSearchPredicate(this)"></select>
            </td>
            <td width="3%" valign="bottom">
            	<img src="images/task_open.png" id="searchTaskStatus" value="1" onclick="toggleSearchTaskStatus()">
            </td>
            <td width="15%">
                <select class="cssMenu" title="Task Type" id="cmbSearchTaskType" onchange="setSearchPredicate(this)"></select>                
            </td>           
            <td width="5%" valign="bottom">
            	<img src="images/task_search.png" id="searchTask" onmousedown="toggleAsBotton(this)" onmouseup="prepareSearchTask();toggleAsBotton(this)">
            	<img src="images/refresh_search.png" title="Reset search to all open tasks" id="addProject" onmousedown="toggleAsBotton(this)" onmouseup="resetTaskSearch();toggleAsBotton(this)">
            </td>
            <td width="25%" align="right" valign="bottom">
            	<select id="cmbDebug" onchange="setDebugModule()">
            		<option value=0>None</option>
            		<option value=1>customer</option>
            		<option value=2>contact</option>
            		<option value=3>task</option>
            		<option value=4>taskLog</option>
            		<option value=5>relation</option>
            		<option value=6>attachment</option>
            		<option value=7>menu</option>
            		<option value=8>common</option>
				</select>
            	<img src="images/add_task.png" title="Add a single task" id="addTask" onmousedown="toggleAsBotton(this)" onmouseup="newTask(); toggleAsBotton(this)">
            	<img src="images/add_project.png" title="Add full project" id="addProject" onmousedown="toggleAsBotton(this)" onmouseup="toggleAsBotton(this)">
            	
            </td>                      
        </tr>
    </table>

	<table width="100%">
		<tr>
			<td class="cssMessageInfo" id="messageInfo">Ready</td>
		</tr>
	</table>
    <hr>
    <table id="taskList" class="cssTaskList">
        <thead>
        <tr>
            <th class="cssTaskListId">
                <label>id</label>
            </th>
            <th class="cssTaskListCustomer">
                <label>Customer</label>
            </th>
            <th class="cssTaskListTitle">
                <label>Title</label>
            </th>
            <th class="cssTaskListDueDate">
               <label>Due Date</label>
            <th class="cssTaskListEffort">
                <label>Effort</label>
            </th>
            <th class="cssTaskListStatus">
                <label>Status</label>
            </th>
        </tr>
		</thead>
		<tbody id="taskListBody">             
        </tbody>     
    </table>
    
    
    <hr>
    <table width="100%">
        <tbody>
		<tr>
			<td width="50%" valign="top">
				<label for="cmbDetailTaskType" class="cssFieldLabel">Type:</label>
				<select id="cmbDetailTaskType"></select>
				<label for="cmbDetailContact" class="cssFieldLabel">Contact:</label>
				<select id="cmbDetailContact"></select>
				<br>
				<label for="cmbDetailStatus" class="cssFieldLabel">Status:</label><select id="cmbDetailStatus"></select>
				<br> 
				<textarea title="Task title" id="txtDetailTaskTitle" rows="2" cols="60"></textarea>
				<br>
				<label for="txtDetailEffort" class="cssFieldLabel">Effort</label>
				<input type="number" id="txtDetailTaskEffort" min="1">
				<select id="cmbDetailEffortUnit">
					<option value="1">Hours</option>
					<option value="2">Days</option>
				</select>
				<label for="txtDetailDueDate" class="cssFieldLabel">Due Date</label>
				<input type="date" id="txtDetailDueDate"/> 
				<input type="hidden" id="taskId" value="0">    
				<img src="images/save.png" title="Save task" id="imgSaveTask" onmousedown="toggleAsBotton(this)" onmouseup="saveTask(); toggleAsBotton(this)">
				<br>
				<hr>
				<span class="cssTabSelected" id="TabLog" onclick="setTab(tabEnum.taskLog)">Log</span>
				<span class="cssTab" id="TabRelation" onclick="setTab(tabEnum.relation)">Relation</span>
				<span class="cssTab" id="TabAttachment" onclick="setTab(tabEnum.attachment)">Attachments</span>
				<span class="cssTab" id="TabLinkedCustomer" onclick="setTab(tabEnum.linkedCustomer)">Linked Customers</span>
				<br>
				<div id="divTaskTab"></div>				                    
			</td>
			<td valign="top" rowspan="2">
				<div class="tabCRM">
					<span id="tabCustomer" class="cssTabSelected" onclick="setTab(tabEnum.customer)">Customers</span>
					<span id="tabContact" class="cssTab" onclick="setTab(tabEnum.contact)">Contacts</span>
					<span id="tabLogin" class="cssTab" onclick="setTab(tabEnum.login)">Logins</span>
					<hr>			
					<div id="divCRM"></div>
				</div>
			</td>
		</tr>           
        </tbody>
    </table>
</body>
</html>